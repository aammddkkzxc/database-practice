### 집계 (aggregate)
- 여러 행의 값을 바탕으로 단일 결과 값
- GROUP BY 절과 함께 자주 사용

#### 데이터 건수 파악
- COUNT(*) : NULL 값의 존재 여부와 상관없이 테이블의 물리적인 행의 개수 모두
- COUNT(컬럼명) : : 특정 컬럼 이름을 지정하면, 해당 컬럼의 값 중에서 NULL 이 아닌 값의 개수만
- DISTINCT과 함께 사용해서 고유 데이터 개수만 집계

### 그룹 - GROUP BY
- 특정 컬럼의 값이 같은 행들을 하나의 그룹으로
- NULL 인 데이터도 하나의 그룹으로 묶여서 결과에 포함된다

#### GROUP BY - 주의사항
- SELECT 절에는 GROUP BY 에 사용된 컬럼과 집계 함수만 사용할 수 있다
- 데이터를 어떤 기준으로 그룹화했는데, 그 그룹에 속한 개별 데이터 중 하나를 불쑥 달라고 할 수 없음
  - 그럴일은 잘 없겠지만, pk로 그룹화 할 때는 해당 pk 테이블의 다른 칼럼을 사용 가능하다
  - db, 설정마다 막혀있는 경우도 있다

#### HAVING - 그룹 필터링1
- 그룹으로 묶은 결과에 대해 다시 필터링
- WHERE 는 그룹화 이전에 개별 행 하나하나 걸러내는 조건, HAVING 은 그룹화 이후에 그룹 자체를 걸러내는 조건

#### 중요 : ORDER BY 절에서의 인용 부호 사용법 (MySQL 기준)
- ORDER BY 절에서 정렬 기준이 되는 컬럼을 지정할 때, 어떤 인용 부호에 주의해야 한다
  - 백틱 (`): 컬럼명(Identifier)을 감쌀 때 사용. 이를 '해당 이름의 컬럼'으로 인식하고 그 컬럼의 값을 기준으로 정렬
  - 작은따옴표 (' ') 또는 큰따옴표 (" "): 문자열 상수(String Literal)를 만들 때 사용
    - ORDER BY '총 구매 금액'이라고 작성하면, 모든 데이터 행에 대해 정렬 기준값을 '총 구매 금액'이라는 동일한 문자열로 간주
    - 일반적인 데이터 정렬 목적에서 이런식으로 사용할 일은 거의 없다

### sql 구문 순서
- 작성 순서
  - SELECT -> FROM -> WHERE -> GROUP BY -> HAVING -> ORDER BY -> LIMIT
- 실제 동작 순서
  - FROM -> WHERE -> GROUP BY -> HAVING -> SELECT -> ORDER BY -> LIMIT
- HAVING에서 SELECT 문의 별칭 사용
  - 표준 SQL 문법에 따르면 HAVING 절은 SELECT 절보다 먼저 처리. 원칙적으론 불가
  - mysql에선 사용자 편의를 위해 허용되었지만, 집계함수 표현식을 직접 쓰는 것이 호환성이 높은 방법이다
- WHERE절에서 SELECT 문의 별칭 사용
  - 안된다