### UNION
- 여러 개의 결과 집합을 아래로(수직으로) 이어 붙임
- UNION 으로 연결하는 모든 SELECT 문은 컬럼 개수가 같고 같은 위치의 컬럼은 호환 가능한 데이터 타입이어야 한다
- 최종 결과의 컬럼 이름은 첫 번째 SELECT 문의 컬럼 이름을 따른다
- 두 결과 집합을 합친 뒤 중복되는 행은 자동으로 제거

#### UNION ALL
- UNION 과 UNION ALL 의 유일한 차이점은 중복 처리 여부
- 성능은 UNION ALL 이 UNION 보다 훨씬 빠르다 (비교 작업 추가됨)

#### UNION 정렬
- UNION 으로 합친 최종 결과 집합을 정렬하려면 ORDER BY 절을 전체 쿼리의 가장 마지막에 한 번만 사용
- ORDER BY 절에서는 첫 번째 SELECT 문의 컬럼 이름이나 별칭만 사용
- 서로 다른 이름의 컬럼을 합쳐 정렬시 별칭 권장

### CASE
- 특정 조건에 따라 데이터를 동적으로 가공하고 새로운 의미를 부여
- 단순 CASE 문
  - 특정 컬럼의 값이 A면 X, B면 Y와 같이 명확하게 정해진 값을 비교할 때 사용
- 검색 CASE 문
  - WHEN 절마다 독립적인 조건식을 사용하여 가격 범위나 복합적인 조건을 처리할 때 사용
- 위에서 아래로 순차적으로 조건을 평가하며, 가장 먼저 참이 되는 조건의 결과를 반환하고 즉시 평가 종료 
- 일반적으로 범위가 좁고 구체적인 조건을 더 넓고 포괄적인 조건보다 먼저 배치해야 한다
- CASE 문은 SELECT 절뿐만 아니라 ORDER BY, GROUP BY, WHERE 절에서도 사용

#### CASE 문 - 그룹핑
- CASE 문을 GROUP BY 절과 함께 사용하면, 기존에 없던 새로운 기준으로 데이터를 분류하고 그룹별 통계를 낼 수 있다
  - 1단계 (분류) : SELECT문에서 CASE 문으로 각 행에 원하는 분류 라벨 붙이기
  - 2단계 (집계) : 1단계에서 만든 라벨을 기준으로 GROUP BY 하고, COUNT() 같은 집계 함수로 그룹별 통계를 구한다
- GROUP BY 절에 CASE 문 전체를 다시 쓸 필요 없이, SELECT 절에서 AS 로 지정한 별칭 사용해서 간결하게 가능

#### CASE 문 - 조건부 집계1
- 조건부 집계는 CASE 문을 SUM 이나 COUNT 같은 집계 함수 내부에 넣어 사용하는 강력한 기법
- 행으로 표현된 데이터를 열로 변환하는 피벗(Pivot) 형태의 보고서를 만들 때 유용
- 각 조건별로 서브쿼리를 여러 번 사용하면 성능이 저하되므로, 조건부 집계는 테이블을 한 번만 읽어 효율적으로 처리하는 방법

#### CASE 문 - 조건부 집계2
- 조건부 집계는 COUNT(CASE ...) 또는 SUM(CASE ...) 패턴을 주로 사용 
- COUNT(CASE WHEN 조건 THEN 1 END) : 조건이 참일 때만 1을 반환하고, 나머지는 NULL을 반환하여 COUNT 가 NULL을 제외하고 세도록
- SUM(CASE WHEN 조건 THEN 1 ELSE 0 END) : 조건이 참이면 1, 아니면 0을 반환하여 합계를 구함으로써 개수를 센다
- 조건부 집계를 GROUP BY 와 함께 사용하면, '카테고리별, 상태별 주문 건수'처럼 다차원적인 분석 보고서를 효율적으로 생성할 수 있음