### 조인의 특징 - 조인에서 데이터가 늘어나는 경우
중심 테이블 기준으로 데이터 뻥튀기가 일어나는가?
- 부모 테이블 : PK를 가지고 있는 테이블. users
- 자식 테이블 : FK를 통해 부모 테이블을 참조하는 테이블. orders
- 자식 -> 부모 조인 (FK -> PK 참조) : 행 개수가 늘어나지 않는다
  - 자식 테이블( orders )의 각 주문 정보는 반드시 단 한 명의 부모( users )하고만 연결
  - 주문을 하지 않은 유저는 버려짐 (주체가 order)
- 부모 -> 자식 조인 (PK -> FK 참조) : 행 개수가 늘어날 수 있다
  - 부모 테이블( users )의 한 고객은 여러 명의 자식( 여러 건의 orders )을 가질 수 있음
  - **조인 시, 자식 테이블의 행 개수가 여러건이라면, 부모 테이블의 행이 해당 건수만큼 늘어남**
  - 유저 정보가 없는 주문 건수는 없음 (외래키 제약 조건)
- 조인으로 인해 행 수가 증가하는지를 고려하지 않는다면, 합계( SUM ), 평균( AVG ), 개수( COUNT ) 같은 **집계 함수에서 잘못 사용할 가능성**이 크다

### 내부 조인
- 양쪽 테이블에 모두 공통으로 존재하는 데이터만을 결과로
- ON : 두 테이블을 어떤 조건으로 연결할 지
- 한 테이블에만 존재하는 컬럼 명의 경우 테이블 명 생략 가능
- 주로 별칭 쓰는 것이 낫다
- 조인 논리적 동작 순서
  - FROM/JOIN (테이블 결합) → WHERE (조건 필터링) → SELECT (컬럼 선택)
  - 쿼리 옵티마이저(쿼리 최적화기)는 상황에 따라 필터링 후 조인 하는 방식을 선택해 최적화 하는 경우도 있다
    - 결과는 같음. 성능 최적화시 어떻게 작동하는 지 알 필요가 있다
- 내부 조인은 양방향
  - A 테이블과 B 테이블이 있다고 하면, A B로 조인할 수 있다면 반대로 B A로 조인할 수 있다
  - 결과는 항상 동일
  - **쿼리를 읽는 사람의 입장에서 어떤 데이터가 중심이 되는가**에 따라 순서 정하자
- INNER 생략하고 그냥 JOIN 써도 내부 조인 사용 된다. 보통 생략함

### 외부 조인
- 한쪽 테이블에만 존재하는 데이터 다루기
  - 우리 쇼핑몰에 가입은 했지만, 아직 한 번도 주문하지 않은 고객
- 외부 조인( OUTER JOIN )은 두 테이블을 조인할 때, 특정 테이블의 데이터는 ON 조건이 맞지 않더라도 모두 결과에 포함

#### LEFT OUTER JOIN vs RIGHT OUTER JOIN
- FROM 절의 테이블 / JOIN 절의 테이블 둘 중 어떤 테이블을 기준 테이블 테이블로 잡을 것인가
  - 기준 테이블의 데이터를 전부 포함하게 된다
- OUTER 생략 권장
- 실무에서는 LEFT JOIN 이 RIGHT JOIN 보다 훨씬 더 많이 사용된다. (직관적)
  - RIGHT JOIN 테이블의 순서를 바꾸면 언제나 LEFT JOIN 으로 동일하게 표현할 수 있다

### 셀프 조인
- 새로운 종류의 JOIN 명령어가 아니다. 별칭을 사용하여 하나의 테이블을 자기 자신과 조인하는 방법

### 크로스 조인
- 조인 조건 없이, 한쪽 테이블의 모든 행을 다른 쪽 테이블의 모든 행과 하나씩 전부 연결
- 티셔츠 색 JOIN 티셔츠 사이즈 -> n * m 개 행 생성. 정말 조심해서 사용하자
- CONCAT 함수 사용해서 새로운 상품명을 생성도 가능